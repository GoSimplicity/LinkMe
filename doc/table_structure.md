# 表结构设计

## 1. 用户表 (users)

用户表用于存储社交论坛的用户信息。

| 字段名          | 类型         | 描述             | 约束条件                  |
|--------------|------------|----------------|-----------------------|
| ID           | int64      | 用户唯一标识符        | 主键                    |
| CreateTime   | int64      | 用户账户创建时间戳      |                       |
| UpdatedTime  | int64      | 用户信息最后更新时间戳    |                       |
| DeletedTime  | int64      | 用户账户删除时间戳（软删除） | 索引                    |
| Nickname     | string     | 用户昵称           | 最大长度为50个字符            |
| PasswordHash | string     | 用户密码的哈希值       | 不为空                   |
| Birthday     | *time.Time | 用户生日           | 日期时间类型                |
| Email        | string     | 用户电子邮箱地址       | 字符串类型，最大长度100个字符，唯一索引 |
| Phone        | *string    | 用户电话号码         | 字符串类型，最大长度15个字符，唯一索引  |
| About        | string     | 用户个人简介         | 字符串类型，最大长度4096个字符     |

## 2. 文章表 (posts)

文章表用于存储用户发布的文章信息。

| 字段名          | 类型     | 描述                | 约束条件                |
|--------------|--------|-------------------|---------------------|
| ID           | int64  | 文章唯一标识符           | 主键                  |
| UserID       | int64  | 文章作者的用户ID         | 不为空，索引              |
| Title        | string | 文章标题              | 最大长度为255个字符，不为空     |
| Content      | string | 文章内容              | 文本类型，不为空            |
| CreateTime   | int64  | 文章创建时间戳           | 不为空                 |
| UpdatedTime  | int64  | 文章最后更新时间戳         | 不为空                 |
| DeletedTime  | int64  | 文章删除时间戳（软删除）      | 索引                  |
| Status       | string | 文章状态（如：草稿、发布等）    | 默认值为'draft'         |
| Visibility   | string | 文章可见性（如：公开、私密等）   | 默认值为'public'        |
| Slug         | string | 文章的唯一标识，用于生成友好URL | 最大长度为100个字符，唯一索引    |
| CategoryID   | int64  | 文章分类的ID           | 索引                  |
| Tags         | string | 文章标签，以逗号分隔        | 默认值为空字符串，最大长度255个字符 |
| CommentCount | int64  | 文章的评论数量           | 默认值为0               |
| ViewCount    | int64  | 文章的浏览次数           | 默认值为0               |

## 3. 版块表 (categories)

版块表用于存储论坛的版块信息。

| 字段名  | 类型           | 描述      | 约束条件 |
|------|--------------|---------|------|
| ID   | int64        | 版块唯一标识符 | 主键   |
| Name | varchar(255) | 版块名称    | 唯一   |

## 4. 用户互动表 (user_interactions)

用户互动表用于存储用户与其他用户或帖子之间的互动信息。

| 字段名             | 类型                                             | 描述      | 约束条件         |
|-----------------|------------------------------------------------|---------|--------------|
| ID              | int64                                          | 互动唯一标识符 | 主键           |
| UserID          | int64                                          | 用户ID    | 外键，关联用户表     |
| InteractionType | ENUM('like', 'comment', 'favorite', 'message') | 互动类型    |              |
| TargetID        | int64                                          | 目标ID    | 外键，关联帖子表或用户表 |
| CreateTime      | int64                                          | 互动创建时间戳 |              |

## 5. 通知表 (notifications)

通知表用于存储用户收到的通知信息。

| 字段名              | 类型                                                             | 描述      | 约束条件         |
|------------------|----------------------------------------------------------------|---------|--------------|
| ID               | int64                                                          | 通知唯一标识符 | 主键           |
| UserID           | int64                                                          | 用户ID    | 外键，关联用户表     |
| NotificationType | ENUM('new_comment', 'new_like', 'new_message', 'new_follower') | 通知类型    |              |
| TargetID         | int64                                                          | 目标ID    | 外键，关联帖子表或用户表 |
| ReadStatus       | BOOLEAN                                                        | 阅读状态    | 默认值：FALSE    |
| CreateTime       | int64                                                          | 通知创建时间戳 |              |

## 6. 文章标签表 (tags)

文章标签表用于存储文章的标签信息。

| 字段名  | 类型           | 描述      | 约束条件 |
|------|--------------|---------|------|
| ID   | int64        | 标签唯一标识符 | 主键   |
| Name | varchar(255) | 标签名称    | 唯一   |

## 7. 文章与标签关联表 (post_tags)

文章与标签关联表用于存储文章与标签之间的关联信息。

| 字段名    | 类型    | 描述   | 约束条件     |
|--------|-------|------|----------|
| PostID | int64 | 文章ID | 外键，关联文章表 |
| TagID  | int64 | 标签ID | 外键，关联标签表 |